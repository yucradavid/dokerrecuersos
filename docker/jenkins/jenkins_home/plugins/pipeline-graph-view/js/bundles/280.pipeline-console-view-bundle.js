"use strict";(self.webpackChunkpipeline_graph_view_plugin=self.webpackChunkpipeline_graph_view_plugin||[]).push([[280],{9188:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(6540),o=n(1163),a=n(9421),i=n(9790);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t={isSelectGraphicRendition:!1,escapeCode:e},n=/^\u001b\[([;0-9]*)m$/.exec(e);if(n){t.isSelectGraphicRendition=!0,t.setFG=!1,t.setBG=!1,t.resetFG=!1,t.resetBG=!1;var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}((n[1]||"").split(";").map((function(e){return parseInt(e||"0")})));try{for(o.s();!(r=o.n()).done;){var a=r.value;a>=30&&a<=37?t.setFG=a-30:a>=40&&a<=47?t.setBG=a-40:(38!==a&&0!==a||(t.resetFG=!0,t.setFG=!1),48!==a&&0!==a||(t.resetBG=!0,t.setBG=!1))}}catch(e){o.e(e)}finally{o.f()}}return t}var m=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=t.current?t.current.getBoundingClientRect().height:0;e.heightCallback(n),window.Behaviour.applySubtree(document.getElementById("".concat(e.stepId,"-").concat(e.lineNumber)))}),[]),r.createElement("pre",{className:"console-output-line",key:"console-line-pre".concat(e.lineNumber)},r.createElement("div",{className:"console-output-line-anchor",id:"log-".concat(e.lineNumber),key:"".concat(e.lineNumber,"-anchor")}),r.createElement("div",{className:"console-output-line",key:"".concat(e.lineNumber,"-body"),ref:t},r.createElement("a",{className:"console-line-number",href:"?start-byte=".concat(e.startByte,"&selected-node=").concat(e.stepId,"#log-").concat(e.lineNumber)},e.lineNumber),r.createElement("div",{id:"".concat(e.stepId,"-").concat(e.lineNumber),className:"console-text"},function(e,t){for(var n=[],o={setFG:!1,setBG:!1},a=0;a<e.length;a++){var i=e[a];if("string"==typeof i)if(o.setFG||o.setBG){var c=[];"number"==typeof o.setFG&&c.push("ansi-fg-".concat(o.setFG)),"number"==typeof o.setBG&&c.push("ansi-bg-".concat(o.setBG)),n.push(r.createElement("span",{className:c.join(" ")},i))}else n.push(r.createElement("div",{dangerouslySetInnerHTML:{__html:i},key:"".concat(t,"-").concat(a)}));else if(i.isSelectGraphicRendition){var l=s({},o);i.resetFG&&(l.setFG=!1),i.resetBG&&(l.setBG=!1),"number"==typeof i.setFG&&(l.setFG=i.setFG),"number"==typeof i.setBG&&(l.setBG=i.setBG),o=l}}return n}(function(e){if("string"!=typeof e)return[];var t=e.length;if(0===t)return[];for(var n=0,r=0,o=0,a=0,i=0,c=[];n<t&&-1!==(r=e.indexOf("",n));)if(a=e.indexOf("\x3c!--",n),-1!==(i=e.indexOf("--\x3e",a))&&(i+=3),r>a&&r<i)n=i;else{r>n&&(c.push(e.substring(n,r)),n=r),r+=2;for(var l=e.charCodeAt(r);r<t&&(l<64||l>126);)r++,l=e.charCodeAt(r);var s=f(e.substring(n,r+1));c.push(s),o=n=r+1}return o<t&&c.push(e.substr(o)),c}(e.content),"".concat(e.stepId,"-").concat(e.lineNumber)))))};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),c=d((0,r.useState)(!1),2),l=c[0],s=c[1],u=d((0,r.useState)(!0),2),p=u[0],f=u[1],g=(0,r.useRef)(null),y=d((0,r.useState)(!1),2),h=y[0],b=y[1],v=d((0,r.useState)(1),2),E=v[0],w=v[1];(0,r.useEffect)((function(){return function(){t.current&&clearInterval(t.current),g.current&&clearTimeout(g.current)}}),[]),(0,r.useEffect)((function(){g.current&&clearTimeout(g.current),l?b(!1):g.current=setTimeout((function(){return b(!0)}),500)}),[l,b]),(0,r.useEffect)((function(){p&&(S(),f(!1))}),[p]);var k,x=(0,r.useCallback)((function(e){(e>E||1==E)&&w(e)}),[]),S=function(){var t;n.current?e.logBuffer.lines?null===(t=n.current)||void 0===t||t.scrollBy({top:1e3*e.logBuffer.lines.length}):console.debug("'logBuffer.lines' not set. Log empty, not scrolling."):console.warn("virtuosoRef is null, cannot scroll to index!")},O=function(){return e.step.state===a.Q7.running||e.logBuffer.startByte<0};return r.createElement(r.Fragment,null,r.createElement(o.aY,{style:{height:"".concat((k=O()?2:0,(e.logBuffer.lines.length+k)*E),"px"),maxHeight:window.innerHeight*e.maxHeightScale},ref:n,data:e.logBuffer.lines,components:{Footer:function(){return O()?r.createElement("div",{className:"lds-ellipsis"},r.createElement("div",null),r.createElement("div",null),r.createElement("div",null)):r.createElement(r.Fragment,null)}},itemContent:function(t,n){return r.createElement(m,{lineNumber:String(t),content:n,stepId:e.step.id,startByte:e.logBuffer.startByte,heightCallback:x})},atBottomStateChange:function(n){t.current&&clearInterval(t.current),console.debug("'atBottomStateChange' called with '".concat(n,"'")),n&&O()&&(console.debug("Fetching more log text"),t.current=setInterval((function(){e.handleMoreConsoleClick(e.step.id,e.logBuffer.startByte)}),1e3),console.debug("Received more text '".concat(n," - ").concat(l,"'"))),console.debug("Setting stickToBottom to '".concat(n,"'")),s(n)},followOutput:function(e){return f(e),!1}}),h&&r.createElement(i.A,{variant:"text",sx:{padding:"0px",textTransform:"none"},onClick:function(){return S()},style:{float:"right",transform:"translate(-2rem, -2rem)"}},"Scroll to Bottom"))}},5280:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(6540),o=n(7773),a=n(1434),i=n(1184),c=n(5236),l=n(5897),s=n(3289),u=n(744),p=n(9421),f=n(4469),m=n(7299),d=n(9790),g=n(6822),y=n(5292),h=n(6624),b=n(9481),v=n(6670),E=n(3461),w=n(2048),k=n(1836);function x(e){return r.createElement(r.Fragment,null,r.createElement("button",{onClick:e.onClick,className:"jenkins-dialog__close-button jenkins-button"},r.createElement("span",{className:"jenkins-visually-hidden"},"Close"),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512"},r.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"}))))}var S=n(6276),O=n(5315),B=n(4099),A=n(9188),j=n(3850),C={top:"50%",left:"50%",width:"98%",height:"95%",margin:"1%",bgcolor:"var(--pre-background)",color:"var(--pre-color)",backdropFilter:"var(--dialog-backdrop-filter)",border:"none",backgroundColor:"var(--background)",borderRadius:"0.6rem",boxShadow:"var(--dialog-box-shadow)",overflowY:"auto",p:4};function N(e){var t=function(){return e.setClose()},n=e.step.name,a=e.step.title?" - "+e.step.title:"";return r.createElement(r.Fragment,null,r.createElement(S.A,{open:e.open,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.createElement(O.A,{sx:C},r.createElement(o.A,{id:"modal-modal-title",variant:"h6",component:"h2",className:"log-card--header",noWrap:!0,key:"step-name-text-".concat(e.step.id)},r.createElement(B.A,{direction:"row",alignItems:"center",spacing:1},r.createElement("span",{className:"pgv-step-header__icon"},r.createElement(j.A,{status:e.step.state,percentage:e.step.completePercent})),r.createElement(O.A,{component:"span"},r.createElement(O.A,{component:"span",fontWeight:"bold"},n),a))),r.createElement(x,{onClick:t}),r.createElement("div",null,e.truncatedLogWarning),r.createElement(A.default,e))))}function P(){return r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M10 4H15C15.5523 4 16 4.44772 16 5V10M10 16H5C4.44772 16 4 15.5523 4 15V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}))}var T=n(1178);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var F=["expand"];function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(t)?t:t+""}function M(e,t,n){return t=R(t),function(e,t){if(t&&("object"==G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var H=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,9188))})),W=(0,f.Ay)((function(e){e.expand;var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,F);return r.createElement(E.A,t)}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),V=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,t,[e])).handleStepToggle=n.handleStepToggle.bind(n),n.state={open:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,(a=[{key:"handleStepToggle",value:function(e){this.props.handleStepToggle(e,this.props.step.id)}},{key:"componentDidMount",value:function(){this.props.isExpanded&&this.props.handleMoreConsoleClick(this.props.step.id,this.props.stepBuffer.startByte)}},{key:"getTruncatedLogWarning",value:function(){var e=this;if(this.props.stepBuffer.lines&&this.props.stepBuffer.startByte>0)return r.createElement(m.Ay,{container:!0},r.createElement(m.Ay,{item:!0,xs:6,sm:!0,className:"show-more-console"},r.createElement(o.A,{align:"right",className:"step-header"},"Missing ".concat(this.prettySizeString(this.props.stepBuffer.startByte)," of logs."))),r.createElement(m.Ay,{item:!0,xs:6,sm:!0,className:"show-more-console"},r.createElement(d.A,{variant:"text",sx:{padding:"0px",textTransform:"none",marginLeft:"0.25rem"},onClick:function(){var t=e.props.stepBuffer.startByte-p.OL;console.debug("startByte '".concat(e.props.stepBuffer.startByte,"' -> '").concat(t,"'")),t<0&&(t=0),e.props.handleMoreConsoleClick(e.props.step.id,t)}},"Show more logs")))}},{key:"prettySizeString",value:function(e){var t=1048576,n=1073741824;return e<1024?"".concat(e,"B"):e<t?"".concat((e/1024).toFixed(2),"KiB"):e<n?"".concat((e/t).toFixed(2),"MiB"):"".concat((e/n).toFixed(2),"GiB")}},{key:"getStepHeaderTitle",value:function(e,t){return e?r.createElement(o.A,{className:"log-card--text",component:"div",key:"step-duration-text-".concat(t)},e):null}},{key:"render",value:function(){var e=this;return r.createElement(g.A,{className:"step-detail-group",key:"step-card-".concat(this.props.step.id),style:{marginBottom:"5px"}},r.createElement(v.A,{onClick:this.handleStepToggle,"aria-label":"Show console log.",className:"step-header step-header-".concat(this.props.step.state.toLowerCase()," step-detail-group-").concat(this.props.isExpanded?"expanded":"collapsed"),key:"step-action-area-".concat(this.props.step.id)},r.createElement("span",{className:"pgv-step-header__icon"},r.createElement(j.A,{status:this.props.step.state,percentage:this.props.step.completePercent})),r.createElement(m.Ay,{container:!0,wrap:"nowrap",columns:{xs:20},key:"step-root-container-".concat(this.props.step.id)},r.createElement(m.Ay,{item:!0,container:!0,xs:16,sx:{display:"block",margin:"auto"},width:"80%"},r.createElement(o.A,{className:"log-card--header",noWrap:!0,component:"div",key:"step-name-text-".concat(this.props.step.id),sx:{flexGrow:3}},this.props.step.name),this.getStepHeaderTitle(this.props.step.title,this.props.step.id)),r.createElement(m.Ay,{item:!0,xs:2,sx:{margin:"auto",padding:"0px"},alignItems:"center",justifyContent:"center"},r.createElement(o.A,{className:"log-card--text log-card--text-duration",align:"right",component:"div",key:"step-duration-text-".concat(this.props.step.id)},(0,T.X5)(this.props.step.totalDurationMillis))),r.createElement(m.Ay,{item:!0,xs:2,alignItems:"center",sx:{margin:"auto"}},r.createElement(k.Tooltip,{title:"Open console log in full-screen mode"},r.createElement(E.A,{"aria-label":"Open console log in full-screen mode",onClick:function(){return e.setState({open:!0})}},r.createElement("div",{className:"svg-icon--expand"},r.createElement(P,null)))),r.createElement(k.Tooltip,{title:"View step as plain text"},r.createElement(E.A,{onClick:function(){return window.open("log?nodeId=".concat(e.props.step.id))},"aria-label":"View step as plain text"},r.createElement(s.A,{className:"svg-icon--expand"})))),r.createElement(m.Ay,{item:!0,xs:1,alignItems:"center",sx:{margin:"auto"}},r.createElement(k.Tooltip,{title:"Open console log"},r.createElement(W,{expand:this.props.isExpanded,"aria-label":"Open console log","aria-expanded":!0,key:"step-expand-button-".concat(this.props.step.id),sx:{display:"block",marginLeft:"auto"}},r.createElement(w.A,{key:"step-expand-icon-".concat(this.props.step.id),className:"svg-icon svg-icon--expand"})))))),r.createElement(N,{logBuffer:this.props.stepBuffer,handleMoreConsoleClick:this.props.handleMoreConsoleClick,step:this.props.step,truncatedLogWarning:this.getTruncatedLogWarning(),maxHeightScale:.85,open:this.state.open,setClose:function(){return e.setState({open:!1})}}),r.createElement(y.A,{in:this.props.isExpanded,timeout:50,unmountOnExit:!0,key:"step-colapsable-console-".concat(this.props.step.id)},r.createElement(h.A,{className:"step-content",key:"step-console-content-".concat(this.props.step.id)},r.createElement("div",null,this.getTruncatedLogWarning()),r.createElement(r.Suspense,{fallback:r.createElement(b.A,null)},r.createElement(H,{logBuffer:this.props.stepBuffer,handleMoreConsoleClick:this.props.handleMoreConsoleClick,step:this.props.step,maxHeightScale:.65})))))}}])&&I(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(r.Component);const z=function(e){var t,n,o,a=e.agent,i="built-in"==a?"Jenkins":a,c=(n="built-in"==(t=a)?"(built-in)":t,o=document.head.dataset.rooturl,"".concat(o,"/computer/").concat(n,"/"));return r.createElement(r.Fragment,null,"Running on ",r.createElement("a",{href:c},i))};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function Y(e,t,n){return t=K(t),function(e,t){if(t&&("object"==$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,n||[],K(e).constructor):t.apply(e,n))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function q(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var Z=function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"stage-detail-group",key:"stage-detail-root-".concat(e.stage.id)},r.createElement(o.A,{color:"inherit",className:"detail-element-header",key:"stage-detail-name-text-".concat(e.stage.id)},"Stage '",e.stage.name,"'"),r.createElement("div",{className:"detail-element",key:"stage-detail-start-time-container-".concat(e.stage.id)},e.stage.startTimeMillis&&r.createElement(i.A,{className:"detail-icon",key:"stage-detail-start-time-icon-".concat(e.stage.id)}),(0,T.A4)(e.stage.startTimeMillis)),r.createElement("div",{className:"detail-element",key:"stage-detail-pause-duration-container-".concat(e.stage.id)},r.createElement(a.A,{className:"detail-icon",key:"stage-detail-pause-duration-icon-".concat(e.stage.id)}),(0,T.Ft)(e.stage.pauseDurationMillis)),r.createElement("div",{className:"detail-element",key:"stage-detail-duration-container-".concat(e.stage.id)},r.createElement(c.A,{className:"detail-icon",key:"stage-detail-duration-icon-".concat(e.stage.id)}),(0,T.X5)(e.stage.totalDurationMillis)),r.createElement("div",{className:"detail-element",key:"stage-detail-status-container-".concat(e.stage.id)},r.createElement(l.A,{className:"detail-icon",key:"stage-detail-status-icon-".concat(e.stage.id)}),r.createElement("span",{className:"capitalize",key:"stage-detail-status-text-".concat(e.stage.id)},e.stage.state)),e.stage.agent&&r.createElement("div",{className:"detail-element",key:"stage-detail-agent-container-".concat(e.stage.id)},r.createElement(u.A,{className:"detail-icon",key:"stage-detail-agent-icon-".concat(e.stage.id)}),r.createElement("span",{key:"stage-detail-agent-text-".concat(e.stage.id)},r.createElement(z,{agent:e.stage.agent}))),e.failedSteps.map((function(t){return console.debug("Found failed step ".concat(t)),r.createElement(ee,{step:t,key:"stage-detail-failed-step-link-".concat(e.stage.id,"-").concat(t.id)})})),r.createElement("div",{className:"detail-element"},r.createElement(s.A,{className:"detail-icon"}),r.createElement("a",{className:"detail-element",href:"log?nodeId=".concat(e.stage.id)},"View as plain text"))))},ee=function(e){return r.createElement("div",{className:"detail-element"},r.createElement(s.A,{className:"detail-icon"}),r.createElement("a",{className:"detail-element",href:"?selected-node=".concat(e.step.id)},"Failed step: ",e.step.name))},te=function(e){function t(e){var n,o,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=n=Y(this,t,[e]),i=function(e){return e.map((function(e,t){var o;return r.createElement(V,{step:e,stepBuffer:null!==(o=n.props.stepBuffers.get(e.id))&&void 0!==o?o:{lines:[],startByte:0-p.OL,endByte:-1},handleStepToggle:n.props.handleStepToggle,isExpanded:n.props.expandedSteps.includes(e.id),handleMoreConsoleClick:n.props.handleMoreConsoleClick,key:"step-console-card-".concat(e.id),scrollParentId:n.props.scrollParentId})}))},(a=q(a="getTreeItemsFromStepList"))in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(t,e),n=t,(o=[{key:"renderStageDetails",value:function(){if(this.props.stage){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this.props.steps);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.stageId===this.props.selectedStage&&"unstable"===o.state.toLowerCase()&&t.push(o)}}catch(e){n.e(e)}finally{n.f()}return r.createElement("pre",{className:"console-output",id:"console-root-".concat(this.props.stage?this.props.stage.id:"unk")},r.createElement(Z,{stage:this.props.stage,failedSteps:t}))}return null}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement("div",{key:"stage-summary-".concat(this.props.stage?this.props.stage.id:"unk")},this.renderStageDetails()),r.createElement("div",{key:"stage-steps-container-".concat(this.props.stage?this.props.stage.id:"unk")},this.getTreeItemsFromStepList(this.props.steps)))}}])&&X(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component)}}]);
//# sourceMappingURL=280.pipeline-console-view-bundle.js.map